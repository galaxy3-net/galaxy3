#!/usr/bin/env bash

clear

SPACES="$(echo ${HOME} | tr -d -c ' ' | wc -m)"

if [ ${SPACES} -ne 0 ]
then
  echo "Galaxy3: Your home directory ${HOME} cannot have special characters or spaces."
  echo "Aborting . . ."
  return 1
fi

if [ -z "$(which vboxmanage2)" ]
then
  echo "Galaxy3: Virtualbox is not installed."
  echo "Aborting . . ."
  return 1
fi


[ -z "${G3HOME}" ]  &&  export G3HOME="${HOME}/galaxy3/"
[ -z "${G3GITHUB}" ]  &&  export G3GITHUB=https://github.com/galaxy3-net/
[ -z "${G3BRANCH}" ]  &&  export G3BRANCH=$(cd "${G3HOME}" ; git branch --show-current)
[ -z "${G3BIN}" ]  && export G3BIN="${G3HOME}/bin"

export PATH="${PATH}:${G3HOME}/bin:${G3HOME}/functions"

cat <<__EOD__

  = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
  This script "env" is used to temporarily setup the Galaxy3 variables needed
  for managing hosts and services in the Galaxy3 environment.  These settings
  are temporary as they will be lost when this (shell/bash/GitBash) is closed.

  You must run this everytime a new shell/bash/Gitbash is opened.

  There are multiple ways for running this script as follows.

  (cd ${G3HOME} && . ./env)
  (cd ${G3HOME} && source ./env)

  . ~/galaxy3/env
  source ~/galaxy3/env

  = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
  The following maintenance commands are ready for maintaing the Galaxy3
  environment.

__EOD__

